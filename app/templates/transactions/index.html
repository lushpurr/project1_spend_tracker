{% extends 'base.html' %}

{% block content %}
    <h1>All Transactions</h1>

    <table>
        <tr>
            <th>Merchant</th>
            <th></th>
            <th>Amount</th>
            <th></th>   
            <th>Tag</th>
            <th></th>
            <th>Icons</th>
        </tr>
        {% for transaction in transactions %}
        <tr>
            <td> 
                {{ transaction.merchant.name}}
            </td>
            <td></td>
            <td>{{ transaction.amount }}</td>
            <td></td>
            <td>{{ transaction.tag.category }}</td>
            <td></td>
            <td>

                <form action="/transactions/{{ transaction.id }}/delete" method="POST">
                    <button type="submit" value="delete" />
                        <i class="fa fa-trash"></i>
                    </button>
                </form>
    
                <form action="/transactions/{{ transaction.id }}/edit" method="POST">
                    <button type="submit" value="delete" />
                        <i class="fa fa-edit"></i>
                    </button>
                </form>
            </td>   
        </tr>
            
        {% endfor %}

        <tr>
            <th>Total</th>
            <th></th>
            <td>{{ transactions | sum(attribute='amount') }}</td>
            <th></th>
            <th></th>
            <th></th>

        </tr>
    </table>
    <ul>
        <li><a href="/transactions/new">Create New</a></li>
    </ul>
{% endblock content %}